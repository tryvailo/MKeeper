# –ü—Ä–æ–±–ª–µ–º—ã —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å Vercel

**–î–∞—Ç–∞:** 13 —è–Ω–≤–∞—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –Ω–∞–π–¥–µ–Ω—ã

---

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´ (–ë–ª–æ–∫–∏—Ä—É—é—Ç —Ä–∞–±–æ—Ç—É –Ω–∞ Vercel)

### 1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ API routes –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É (`fs`) –¥–ª—è —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏ JSON —Ñ–∞–π–ª–æ–≤. –≠—Ç–æ **–ù–ï –†–ê–ë–û–¢–ê–ï–¢** –Ω–∞ Vercel.

**–ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞:**
- Vercel –∏—Å–ø–æ–ª—å–∑—É–µ—Ç serverless —Ñ—É–Ω–∫—Ü–∏–∏
- –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –≤–æ –≤—Ä–µ–º—è –±–∏–ª–¥–∞
- –§–∞–π–ª—ã –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ä–µ–¥–µ
- –§–∞–π–ª—ã —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –¥–µ–ø–ª–æ–µ

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- ‚ùå `app/api/preferences/route.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `data/preferences.json`
- ‚ùå `app/api/activity/route.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `data/activity.json`
- ‚ùå `app/api/activity/log/route.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `data/activity.json`
- ‚ùå `app/api/shareable-link/route.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `data/shareable_links.json`
- ‚ùå `app/api/share/route.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `data/shared_access.json`
- ‚ùå `app/api/share/[token]/route.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–∞–π–ª—ã
- ‚ùå `app/api/family/invite/route.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `data/family_members.json`
- ‚ùå `app/api/family/[token]/route.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–∞–π–ª—ã
- ‚ùå `app/api/family/accept/[token]/route.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–∞–π–ª—ã
- ‚ùå `app/api/family/members/[memberId]/route.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–∞–π–ª—ã
- ‚ùå `app/api/family/members/by-preference/[prefId]/route.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–∞–π–ª—ã
- ‚ùå `app/api/family/revoke/[memberId]/route.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–∞–π–ª—ã

**–†–µ—à–µ–Ω–∏–µ:** 
‚ö†Ô∏è **–ù–ï–û–ë–•–û–î–ò–ú–û** –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ Supabase –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö. –≠—Ç–æ —É–∂–µ —É–∫–∞–∑–∞–Ω–æ –≤ `docs/TASKS_FOR_PRODUCTION.md`.

---

## üü† –í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ (–ú–æ–≥—É—Ç –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã)

### 2. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç `.env.example` —Ñ–∞–π–ª–∞ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.

**–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è Vercel:**
```
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_live_...
CLERK_SECRET_KEY=sk_live_...
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=xxx
NEXT_PUBLIC_APP_URL=https://yourdomain.vercel.app
RESEND_API_KEY=re_xxx (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
NODE_ENV=production
```

**–†–µ—à–µ–Ω–∏–µ:** 
- ‚úÖ –°–æ–∑–¥–∞—Ç—å `.env.example` —Ñ–∞–π–ª
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ README.md

---

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `process.cwd()` –¥–ª—è –ø—É—Ç–µ–π

**–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `process.cwd()` –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤ serverless –æ–∫—Ä—É–∂–µ–Ω–∏–∏.

**–ü—Ä–∏–º–µ—Ä—ã:**
```typescript
const DATA_DIR = path.join(process.cwd(), "data");
```

**–†–µ—à–µ–Ω–∏–µ:** 
- –ü–æ—Å–ª–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ Supabase —ç—Ç–æ –Ω–µ –±—É–¥–µ—Ç –ø—Ä–æ–±–ª–µ–º–æ–π
- –ü–æ–∫–∞ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å (—Ñ–∞–π–ª—ã –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç)

---

## üü° –°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ (–ú–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º—ã)

### 4. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î

**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ Supabase –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–ø–∞–¥–µ—Ç –±–µ–∑ graceful degradation.

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–∏—Ç—å try-catch –±–ª–æ–∫–∏
- –î–æ–±–∞–≤–∏—Ç—å fallback –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏

---

### 5. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ —É–ø–∞—Å—Ç—å –ø–æ–∑–∂–µ.

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- –í—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏ –µ—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç

---

### 6. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `lib/api.ts` –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å—Ç—å —Ñ–∞–π–ª `lib/api.ts` —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –¥–ª—è Supabase, –Ω–æ API routes –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É.

**–†–µ—à–µ–Ω–∏–µ:**
- –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å –≤—Å–µ API routes –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `lib/api.ts`
- –£–¥–∞–ª–∏—Ç—å –∫–æ–¥ —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏

---

## ‚úÖ –ß–¢–û –£–ñ–ï –•–û–†–û–®–û

1. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `export const dynamic = 'force-dynamic'` –¥–ª—è API routes
2. ‚úÖ Middleware –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ (–ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
3. ‚úÖ Next.js –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è
4. ‚úÖ TypeScript –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
5. ‚úÖ ESLint –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
6. ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç Next.js App Router

---

## üìã –ß–ï–ö–õ–ò–°–¢ –î–õ–Ø –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### –ö—Ä–∏—Ç–∏—á–Ω–æ (–ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º):
- [ ] –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å –≤—Å–µ API routes –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Supabase –≤–º–µ—Å—Ç–æ —Ñ–∞–π–ª–æ–≤
- [ ] –°–æ–∑–¥–∞—Ç—å `.env.example` —Ñ–∞–π–ª
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Supabase –ø—Ä–æ–µ–∫—Ç –¥–ª—è production
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ API endpoints —Å Supabase

### –í–∞–∂–Ω–æ (–ø–æ—Å–ª–µ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö):
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ Vercel preview deployment

### –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ:
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫ (Sentry)
- [ ] –î–æ–±–∞–≤–∏—Ç—å health check endpoint
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î

---

## üö® –í–ê–ñ–ù–û

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ù–ï –ë–£–î–ï–¢ –†–ê–ë–û–¢–ê–¢–¨ –Ω–∞ Vercel –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞:**
1. ‚ùå –í—Å–µ API routes –Ω–µ –ø–µ—Ä–µ–ø–∏—Å–∞–Ω—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Supabase
2. ‚ùå Supabase –ø—Ä–æ–µ–∫—Ç –Ω–µ —Å–æ–∑–¥–∞–Ω –∏ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
3. ‚ùå –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ Vercel

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** 
- ‚úÖ –ë–∏–ª–¥ –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ
- ‚ùå API endpoints –Ω–µ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å (—Ñ–∞–π–ª—ã –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è)
- ‚ùå –î–∞–Ω–Ω—ã–µ –Ω–µ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏

---

## üìù –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

1. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ:** –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å API routes –¥–ª—è Supabase (—Å–º. `docs/TASKS_FOR_PRODUCTION.md`)
2. **–ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º:** –°–æ–∑–¥–∞—Ç—å Supabase –ø—Ä–æ–µ–∫—Ç –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. **–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:** –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –æ—à–∏–±–∫–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

---

**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 13 —è–Ω–≤–∞—Ä—è 2025

