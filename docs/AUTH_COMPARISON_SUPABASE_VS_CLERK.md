# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ Supabase Auth vs Clerk –¥–ª—è Memory Keeper

**–î–∞—Ç–∞:** –Ø–Ω–≤–∞—Ä—å 2025  
**–ü—Ä–æ–¥—É–∫—Ç:** Memory Keeper (Legacy Words)  
**–°—Ç–∞—Ç—É—Å:** –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è –≤—ã–±–æ—Ä–∞ —Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

---

## üìä –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï –ü–†–û–ï–ö–¢–ê

### –ß—Ç–æ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- ‚úÖ **Supabase** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL
- ‚úÖ **Supabase Storage** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ñ–∞–π–ª–æ–≤
- ‚úÖ **RLS (Row Level Security)** –ø–æ–ª–∏—Ç–∏–∫–∏ –Ω–∞–ø–∏—Å–∞–Ω—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `auth.uid()` (Supabase Auth —Å–∏–Ω—Ç–∞–∫—Å–∏—Å)
- ‚úÖ –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞ –¥–ª—è Supabase Auth
- ‚ùå –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–∞ (sign-in –ø—Ä–æ—Å—Ç–æ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç –Ω–∞ dashboard)
- ‚ö†Ô∏è –í –∫–æ–¥–µ –µ—Å—Ç—å TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø—Ä–æ Clerk, –Ω–æ –æ–Ω –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Supabase Auth –≤ –∫–æ–¥–µ:

```sql
-- supabase/schema.sql
CREATE POLICY "Users can view own preferences"
  ON user_preferences FOR SELECT
  USING (auth.uid()::text = user_id);
```

---

## üéØ –¢–†–ï–ë–û–í–ê–ù–ò–Ø –ü–†–û–î–£–ö–¢–ê

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
1. **–ü—Ä–æ—Å—Ç–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** (email/password –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ)
2. **–°–µ–º–µ–π–Ω—ã–π —à–∞—Ä–∏–Ω–≥** (–Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –æ–¥–∏–Ω preference)
3. **Email-–∏–Ω–≤–∞–π—Ç—ã** –¥–ª—è —Å–µ–º–µ–π–Ω—ã—Ö —á–ª–µ–Ω–æ–≤
4. **GDPR compliance** (UK —Å–µ—Ä–≤–µ—Ä—ã)
5. **Free tier** + Premium –ø–æ–¥–ø–∏—Å–∫–∏
6. **–§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ** (—É–∂–µ —á–µ—Ä–µ–∑ Supabase Storage)

### –ë—é–¥–∂–µ—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
- –¶–µ–ª–µ–≤–æ–π –±—é–¥–∂–µ—Ç: **¬£50/–º–µ—Å—è—Ü** –¥–ª—è MVP
- Free tier –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω
- –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ: 0-10,000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –ø–µ—Ä–≤—ã–π –≥–æ–¥

---

## ‚öñÔ∏è –î–ï–¢–ê–õ–¨–ù–û–ï –°–†–ê–í–ù–ï–ù–ò–ï

### 1. –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° –¢–ï–ö–£–©–ò–ú –°–¢–ï–ö–û–ú

| –ö—Ä–∏—Ç–µ—Ä–∏–π | Supabase Auth | Clerk |
|----------|---------------|-------|
| **–£–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è** | ‚úÖ –î–∞ (–ë–î + Storage) | ‚ùå –ù–µ—Ç |
| **RLS –ø–æ–ª–∏—Ç–∏–∫–∏** | ‚úÖ –†–∞–±–æ—Ç–∞—é—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏ | ‚ùå –¢—Ä–µ–±—É—é—Ç –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è |
| **–ï–¥–∏–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞** | ‚úÖ –û–¥–∏–Ω –ø—Ä–æ–≤–∞–π–¥–µ—Ä | ‚ùå –î–≤–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (Clerk + Supabase) |
| **–°–ª–æ–∂–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** | ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ) | ‚ö†Ô∏è –°—Ä–µ–¥–Ω—è—è (–Ω—É–∂–Ω–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å RLS) |

**–í—ã–≤–æ–¥:** Supabase Auth —É–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å—Ö–µ–º—ã –ë–î.

---

### 2. –°–¢–û–ò–ú–û–°–¢–¨

#### Supabase Auth (–≤—Ö–æ–¥–∏—Ç –≤ Supabase)

**Free Tier:**
- ‚úÖ 50,000 MAU (Monthly Active Users)
- ‚úÖ Unlimited API requests
- ‚úÖ Email/password auth
- ‚úÖ Social auth (Google, GitHub, etc.)
- ‚úÖ Email verification
- ‚úÖ Password reset
- ‚úÖ Magic links

**Pro Plan:** $25/–º–µ—Å—è—Ü
- 100,000 MAU
- Advanced auth features
- Custom SMTP
- SSO (Single Sign-On)

#### Clerk

**Free Tier:**
- ‚úÖ 10,000 MAU
- ‚úÖ Email/password auth
- ‚úÖ Social auth
- ‚úÖ Pre-built UI components
- ‚úÖ User management dashboard

**Pro Plan:** $25/–º–µ—Å—è—Ü + $0.02 –∑–∞ –∫–∞–∂–¥–æ–≥–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ MAU
- 10,000 MAU –≤–∫–ª—é—á–µ–Ω–æ
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ MAU: $0.02 –∫–∞–∂–¥—ã–π
- **–ü—Ä–∏–º–µ—Ä:** 5,000 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö MAU = $100/–º–µ—Å—è—Ü

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø—Ä–∏ —Ä–æ—Å—Ç–µ:**

| –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | Supabase Auth | Clerk |
|---------------|---------------|-------|
| 0-10,000 | **$0** | **$0** |
| 10,001-50,000 | **$0** | **$800-2,000/–º–µ—Å—è—Ü** |
| 50,001-100,000 | **$25/–º–µ—Å—è—Ü** | **$1,800-3,800/–º–µ—Å—è—Ü** |

**–í—ã–≤–æ–¥:** Supabase Auth –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –¥–µ—à–µ–≤–ª–µ –ø—Ä–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–∏.

---

### 3. –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–¨

#### Supabase Auth

**‚úÖ –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å RLS (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î)
- JWT —Ç–æ–∫–µ–Ω—ã —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ claims
- Webhooks –¥–ª—è —Å–æ–±—ã—Ç–∏–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- Email templates (–∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä—É–µ–º—ã–µ)
- Multi-factor authentication (MFA)
- Session management
- User metadata (custom fields)

**‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–∞–º–æ–º—É
- –ú–µ–Ω—å—à–µ –≥–æ—Ç–æ–≤—ã—Ö –≤–∏–¥–∂–µ—Ç–æ–≤
- –¢—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ –∫–æ–¥–∞ –¥–ª—è UI

#### Clerk

**‚úÖ –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- –ì–æ—Ç–æ–≤—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (SignIn, SignUp, UserButton)
- –ö—Ä–∞—Å–∏–≤—ã–µ pre-built —Ñ–æ—Ä–º—ã
- User management dashboard
- –ë–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ UI –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –õ–µ–≥—á–µ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è UI

**‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ JWT)
- –î–≤–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ = –±–æ–ª—å—à–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- –î–æ—Ä–æ–∂–µ –ø—Ä–∏ —Ä–æ—Å—Ç–µ

---

### 4. –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ –ò GDPR

#### Supabase Auth

**‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- RLS —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–ø—Ä—è–º—É—é —Å `auth.uid()` (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î)
- –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ EU (–º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å UK —Ä–µ–≥–∏–æ–Ω)
- GDPR compliant
- –ü—Ä—è–º–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å PostgreSQL
- –ù–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö API –≤—ã–∑–æ–≤–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤

**–ü—Ä–∏–º–µ—Ä RLS –ø–æ–ª–∏—Ç–∏–∫–∏:**
```sql
-- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Supabase Auth
CREATE POLICY "Users can view own preferences"
  ON user_preferences FOR SELECT
  USING (auth.uid()::text = user_id);
```

#### Clerk

**‚ö†Ô∏è –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ù—É–∂–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ JWT —Ç–æ–∫–µ–Ω—ã
- RLS —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ Clerk (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä)
- –ù—É–∂–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ –∫–æ–¥–µ
- GDPR compliant, –Ω–æ –¥–∞–Ω–Ω—ã–µ –≤ –¥–≤—É—Ö –º–µ—Å—Ç–∞—Ö

**–ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å RLS:**
```sql
-- –¢—Ä–µ–±—É–µ—Ç –∫–∞—Å—Ç–æ–º–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è user_id –∏–∑ JWT
CREATE POLICY "Users can view own preferences"
  ON user_preferences FOR SELECT
  USING (extract_user_id_from_jwt() = user_id);
```

---

### 5. –°–ï–ú–ï–ô–ù–´–ô –®–ê–†–ò–ù–ì (Family Sharing)

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –û–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç preferences
- –ü—Ä–∏–≥–ª–∞—à–∞–µ—Ç —Å–µ–º–µ–π–Ω—ã—Ö —á–ª–µ–Ω–æ–≤ –ø–æ email
- –°–µ–º–µ–π–Ω—ã–µ —á–ª–µ–Ω—ã –º–æ–≥—É—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å/–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å
- –†–∞–∑–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –¥–æ—Å—Ç—É–ø–∞ (view, view_and_comment, executor)

#### Supabase Auth

**‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```typescript
// –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ RLS + –∫–∞—Å—Ç–æ–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è —à–∞—Ä–∏–Ω–≥–∞
const { data } = await supabase
  .from('preferences')
  .select('*, family_members(*)')
  .eq('id', preferenceId)
  .or(`user_id.eq.${userId},family_members.email.eq.${userEmail}`)
```

- RLS –∑–∞—â–∏—â–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è shared access
- Email –∏–Ω–≤–∞–π—Ç—ã —á–µ—Ä–µ–∑ Supabase Edge Functions –∏–ª–∏ API routes

#### Clerk

**‚ö†Ô∏è –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ù—É–∂–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Clerk user_id —Å Supabase
- RLS —Ç—Ä–µ–±—É–µ—Ç –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –ë–æ–ª—å—à–µ –∫–æ–¥–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- Email –∏–Ω–≤–∞–π—Ç—ã —á–µ—Ä–µ–∑ Clerk –∏–ª–∏ –∫–∞—Å—Ç–æ–º–Ω–∞—è –ª–æ–≥–∏–∫–∞

**–í—ã–≤–æ–¥:** Supabase Auth –ø—Ä–æ—â–µ –¥–ª—è —Å–µ–º–µ–π–Ω–æ–≥–æ —à–∞—Ä–∏–Ω–≥–∞ –±–ª–∞–≥–æ–¥–∞—Ä—è RLS.

---

### 6. –†–ê–ó–†–ê–ë–û–¢–ö–ê –ò –ü–û–î–î–ï–†–ñ–ö–ê

#### Supabase Auth

**–í—Ä–µ–º—è –Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é:**
- ‚úÖ 2-4 —á–∞—Å–∞ (—É–∂–µ —á–∞—Å—Ç–∏—á–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
- ‚úÖ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ —É–∂–µ –Ω–∞–ø–∏—Å–∞–Ω—ã
- ‚úÖ –ù—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–∏—Ç—å UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:**
```typescript
// app/sign-in/page.tsx
import { supabase } from '@/lib/supabase'

const signIn = async (email: string, password: string) => {
  const { data, error } = await supabase.auth.signInWithPassword({
    email,
    password
  })
}
```

#### Clerk

**–í—Ä–µ–º—è –Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é:**
- ‚ö†Ô∏è 8-16 —á–∞—Å–æ–≤
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å RLS –ø–æ–ª–∏—Ç–∏–∫–∏
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å JWT –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ API endpoints
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:**
```typescript
// app/sign-in/page.tsx
import { SignIn } from '@clerk/nextjs'

// –ü–ª—é—Å –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å RLS –ø–æ–ª–∏—Ç–∏–∫–∏
// –ü–ª—é—Å –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å getCurrentUserId()
// –ü–ª—é—Å –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å middleware
```

---

### 7. –ú–ê–°–®–¢–ê–ë–ò–†–£–ï–ú–û–°–¢–¨

#### Supabase Auth

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ï–¥–∏–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ (–ë–î + Auth + Storage)
- ‚úÖ –ú–µ–Ω—å—à–µ —Ç–æ—á–µ–∫ –æ—Ç–∫–∞–∑–∞
- ‚úÖ –ü—Ä–æ—â–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- ‚úÖ –î–µ—à–µ–≤–ª–µ –ø—Ä–∏ —Ä–æ—Å—Ç–µ
- ‚úÖ –õ—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–Ω–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö API –≤—ã–∑–æ–≤–æ–≤)

#### Clerk

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚ö†Ô∏è –î–≤–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ = –±–æ–ª—å—à–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- ‚ö†Ô∏è –î–æ—Ä–æ–∂–µ –ø—Ä–∏ —Ä–æ—Å—Ç–µ (MAU pricing)
- ‚ö†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ API –≤—ã–∑–æ–≤—ã
- ‚úÖ –ù–æ –ª—É—á—à–∏–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø: SUPABASE AUTH

### –ü–æ—á–µ–º—É Supabase Auth –ª—É—á—à–µ –¥–ª—è Memory Keeper:

#### 1. **–£–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω** ‚úÖ
- RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `auth.uid()`
- –°—Ö–µ–º–∞ –ë–î –≥–æ—Ç–æ–≤–∞
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞

#### 2. **–î–µ—à–µ–≤–ª–µ** üí∞
- Free tier: 50,000 MAU (vs 10,000 —É Clerk)
- –ü—Ä–∏ —Ä–æ—Å—Ç–µ: $25/–º–µ—Å—è—Ü (vs $800+ —É Clerk)
- –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è free –ø—Ä–æ–¥—É–∫—Ç–∞

#### 3. **–ë–µ–∑–æ–ø–∞—Å–Ω–µ–µ** üîí
- RLS —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–ø—Ä—è–º—É—é —Å auth
- –ù–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö API –≤—ã–∑–æ–≤–æ–≤
- –ú–µ–Ω—å—à–µ —Ç–æ—á–µ–∫ —É—è–∑–≤–∏–º–æ—Å—Ç–∏

#### 4. **–ü—Ä–æ—â–µ –¥–ª—è —Å–µ–º–µ–π–Ω–æ–≥–æ —à–∞—Ä–∏–Ω–≥–∞** üë®‚Äçüë©‚Äçüëß‚Äçüë¶
- RLS + –∫–∞—Å—Ç–æ–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è shared access
- –ú–µ–Ω—å—à–µ –∫–æ–¥–∞
- –ü—Ä–æ—â–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### 5. **–ï–¥–∏–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞** üéØ
- –ë–î + Auth + Storage –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- –ü—Ä–æ—â–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- –ú–µ–Ω—å—à–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

#### 6. **GDPR compliance** üá¨üáß
- –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å UK —Ä–µ–≥–∏–æ–Ω
- –î–∞–Ω–Ω—ã–µ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- –ü—Ä–æ—â–µ compliance

---

## ‚ö†Ô∏è –ö–û–ì–î–ê CLERK –ú–û–ñ–ï–¢ –ë–´–¢–¨ –õ–£–ß–®–ï

Clerk –∏–º–µ–µ—Ç —Å–º—ã—Å–ª, –µ—Å–ª–∏:

1. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã –≥–æ—Ç–æ–≤—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
   - –ù–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É UI
   - –ù—É–∂–Ω—ã –∫—Ä–∞—Å–∏–≤—ã–µ —Ñ–æ—Ä–º—ã "–∏–∑ –∫–æ—Ä–æ–±–∫–∏"
   - –ù–æ –¥–ª—è Memory Keeper —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ (–ø—Ä–æ—Å—Ç–æ–π UI)

2. **–û—á–µ–Ω—å —Å–ª–æ–∂–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**
   - SSO –¥–ª—è enterprise
   - –°–ª–æ–∂–Ω—ã–µ —Ä–æ–ª–∏ –∏ permissions
   - –ù–æ Memory Keeper - –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–æ–¥—É–∫—Ç

3. **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Supabase –¥–ª—è –ë–î**
   - –ï—Å–ª–∏ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –¥—Ä—É–≥—É—é –ë–î
   - –ù–æ —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Supabase

4. **–ë—é–¥–∂–µ—Ç –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω**
   - –ì–æ—Ç–æ–≤—ã –ø–ª–∞—Ç–∏—Ç—å $800+ –ø—Ä–∏ —Ä–æ—Å—Ç–µ
   - –ù–æ –±—é–¥–∂–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω (¬£50/–º–µ—Å—è—Ü)

---

## üìã –ü–õ–ê–ù –ú–ò–ì–†–ê–¶–ò–ò –ù–ê SUPABASE AUTH

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (5 –º–∏–Ω—É—Ç)
```bash
# –£–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
npm install @supabase/supabase-js
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (5 –º–∏–Ω—É—Ç)
```env
NEXT_PUBLIC_SUPABASE_URL=your-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-key
```

### –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (2-4 —á–∞—Å–∞)
- Sign In —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- Sign Up —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- Password reset
- Email verification

### –®–∞–≥ 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ API endpoints (1-2 —á–∞—Å–∞)
- –ó–∞–º–µ–Ω–∏—Ç—å `getCurrentUserId()` –Ω–∞ Supabase Auth
- –û–±–Ω–æ–≤–∏—Ç—å middleware –¥–ª—è –∑–∞—â–∏—Ç—ã routes

### –®–∞–≥ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (1-2 —á–∞—Å–∞)
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- RLS –ø–æ–ª–∏—Ç–∏–∫–∏
- –°–µ–º–µ–π–Ω—ã–π —à–∞—Ä–∏–Ω–≥

**–ò—Ç–æ–≥–æ:** 4-8 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã

---

## üí° –ò–¢–û–ì–û–í–ê–Ø –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø

### ‚úÖ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Supabase Auth**

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –£–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î
2. –î–µ—à–µ–≤–ª–µ (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è free –ø—Ä–æ–¥—É–∫—Ç–∞)
3. –ë–µ–∑–æ–ø–∞—Å–Ω–µ–µ (RLS –Ω–∞–ø—Ä—è–º—É—é)
4. –ü—Ä–æ—â–µ –¥–ª—è —Å–µ–º–µ–π–Ω–æ–≥–æ —à–∞—Ä–∏–Ω–≥–∞
5. –ï–¥–∏–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
6. –ú–µ–Ω—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É

**–ö–æ–≥–¥–∞ –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å:**
- –ï—Å–ª–∏ –ø–æ—è–≤—è—Ç—Å—è —Å–ª–æ–∂–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ UI
- –ï—Å–ª–∏ –±—é–¥–∂–µ—Ç –≤—ã—Ä–∞—Å—Ç–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ
- –ï—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è enterprise —Ñ—É–Ω–∫—Ü–∏–∏ (SSO)

---

## üìö –†–ï–°–£–†–°–´

### Supabase Auth –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- [Supabase Auth Guide](https://supabase.com/docs/guides/auth)
- [RLS Policies](https://supabase.com/docs/guides/auth/row-level-security)
- [Next.js Integration](https://supabase.com/docs/guides/auth/auth-helpers/nextjs)

### –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞:
- [Supabase Auth Examples](https://github.com/supabase/supabase/tree/master/examples)
- [Next.js Auth Template](https://github.com/supabase/supabase/tree/master/examples/auth/nextjs)

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** –Ø–Ω–≤–∞—Ä—å 2025  
**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–°—Ç–∞—Ç—É—Å:** –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è Memory Keeper

